<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<script>
    /*
        格式化日期:
            2017-10-13
            2017/10/13
            2017年10月13日
            2017.10.13
            2017-.--_10_-13
        
        把上面不规则的转成 2017年10月13日

        转义符：
            \D - 一个非数字
        
        量词:
            ?  -  要么有1个要么1个都没有

        子项:
            ()
            从左往右去数

        () 提权
            (1+1)*5

            每有一个子项，就对应回调函数中的参数（从第二个参数起） 
            $0永远是本次匹配的整个字符


        var s = '2017p.--i10_-13';

        如果要匹配字符后面有 +号，那么小括号又包着匹配的字符，
        结果为最后一个字符
            2017
             (\d)+   ->  7
             (\d)    ->  2


        ((\d+)(\D+)((\d)+)\D+)((\d)+)   7个子项
        
        $1  2017-.--_10_-
        $2  2017
        $3  _
        $4  10
        $5  0
        $6  13
        $7  3


        2017p.--i10_-13
        (\d+)(\D)+((((\d+)(\D)+)(\d+)))\D?

        $1 2017
        $2 i
        $3 10_-13
        $4 10_-13
        $5 10_-
        $6 10
        $7 -
        $8 13


        (\d+(\D+((\d)+\D)+)\d+)


    */

    var s = '2017-10-13';



    // s.replace(/(\d+)(\D)+((((\d+)(\D)+)(\d+)))\D?/g,function($0,$1,$2,$3,$4,$5,$6,$7,$8){
    //     console.log($8);
    // });


    // s.replace(/((\d+)(\D+)((\d)+)\D+)((\d)+)/,function($0,$1,$2,$3,$4,$5,$6,$7){
    //     console.log($7);
    // });

    s = s.replace(/(\d+)\D+(\d+)\D+(\d+)\D?/,function($0,$1,$2,$3,$4,$5,$6){
        return $1 + '年' + $2 + '月' + $3 + '日';
    });

    console.log(s);



    // var arr = s.match(/\d+/g);

    // s = arr[0] + '年' + arr[1] + '月' + arr[2] + '日';

    // console.log(s);

</script>
</body>
</html>